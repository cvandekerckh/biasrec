{% extends 'bootstrap/base.html' %}

{% block title %}
    DELCam
{% endblock %}

{% block navbar %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css')}}">

    <nav class="firstnavbar">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="{{ url_for('main.recommendation') }}">
                    <img src="{{ url_for('static', filename='img/logo.jpg') }}" height="75px">
                </a>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-left">
                    <li><a href="{{ url_for('main.recommendation') }}"><h1 class="pnavbut"><b>Home</b></h1></a></li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <br>
                        <img src="{{ url_for('static', filename='img/basket.jpg') }}" height="50px">
                    </li>
                    <li>
                        <a href="{{ url_for('main.cart') }}">
                            <h1 class="pnavbut">
                                <b> My shopping cart</b>
                                {% if n_product_in_cart is defined %}
                                    {% if n_product_in_cart < 2 %}
                                        {% set badge_color = "#ffc107" %} {# Yellow #}
                                    {% elif n_product_in_cart == 2 %}
                                        {% set badge_color = "#007bff" %} {# Blue #}
                                    {% else %}
                                        {% set badge_color = "#dc3545" %} {# Red #}
                                    {% endif %}
                                    <span class="badge" style="background-color:{{ badge_color }}; color:white; font-size:1.5rem; border-radius:50%; padding:5px 10px;">
                                        {{ n_product_in_cart }}
                                    </span>
                                {% endif %} 
                            </h1>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Second navbar (no change) -->
    <nav class="secondnavbar">
        <div class="container">
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li><a href="{{ url_for('main.recommendation') }}"><p class="secondnavbut">For you</p></a></li>
                    <li><a href="{{ url_for('main.product_category', category_name='Red meat') }}"><p class="secondnavbut">Red meat</p></a></li>
                    <li><a href="{{ url_for('main.product_category', category_name='Poultry') }}"><p class="secondnavbut">Poultry</p></a></li>
                    <li><a href="{{ url_for('main.product_category', category_name='Fish') }}"><p class="secondnavbut">Fish</p></a></li>
                    <li><a href="{{ url_for('main.product_category', category_name='Shellfish') }}"><p class="secondnavbut">Shellfish</p></a></li>
                    <li><a href="{{ url_for('main.product_category', category_name='Vegetarian') }}"><p class="secondnavbut">Vegetarian</p></a></li>
                </ul>
            </div>
        </div>
    </nav>
{% endblock %}

{% block content %}
        {# application content needs to be provided in the app_content block #}
        {% block app_content %}{% endblock %}
{% endblock %}
